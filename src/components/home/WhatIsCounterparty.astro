---
import { client } from "../../../tina/__generated__/client";
import { TinaMarkdown } from "tinacms/dist/rich-text";
import CommonStyles from "../CommonStyles.astro";

const wicResponse = await client.queries.whatiscounterparty({ relativePath: "whatiscounterparty.md" });
const whatiscounterparty = wicResponse.data.whatiscounterparty;
---

<section class="what-is-counterparty py-5">
  <div class="container">
    <h2 class="text-center mb-4">{whatiscounterparty.title}</h2>
    <div class="row justify-content-center mb-5">
      <div class="col-lg-8">
        <div class="text-center">
          <TinaMarkdown content={whatiscounterparty.description} />
        </div>
      </div>
    </div>
    <div class="row">
      {whatiscounterparty.keyFeatures?.map((feature) => (
        <div class="col-md-4 mb-4">
          <div class="feature-item">
            <div class="feature-header">
              {feature?.icon && (
                <img src={feature.icon} alt={feature?.title} class="feature-icon" />
              )}
              <h3 class="feature-title">{feature?.title}</h3>
            </div>
            <p class="feature-description">{feature?.description}</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<CommonStyles />

<style>
  /* Add any component-specific styles here */
</style>